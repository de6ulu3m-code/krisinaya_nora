<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ö—Ä—ã—Å–∏–Ω–∞—è –ù–æ—Ä–∞</title>
    <style>
        body {
            background-color: #2c1e14;
            color: white;
            font-family: 'Arial', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        /* –¢–µ —Å–∞–º—ã–µ –∫—Ä—É–≥–ª—ã–µ –∫–Ω–æ–ø–∫–∏ —Å–≤–µ—Ä—Ö—É */
        .nav-menu {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .nav-btn {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: 3px solid #5d4037;
            background: #3d2b1f;
            color: white;
            cursor: pointer;
            font-size: 0.8rem;
            transition: 0.3s;
        }

        .nav-btn:hover { border-color: #ffcc00; }

        /* –û–∫–Ω–æ –∫–æ–º–Ω–∞—Ç—ã */
        .room-box {
            width: 300px;
            height: 200px;
            background: #3d2b1f;
            border-radius: 30px;
            border: 5px solid #5d4037;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        #roomIcon { font-size: 70px; }
        #ratIcon { font-size: 50px; margin-top: 10px; transition: 0.3s; }

        /* –¢–æ —Å–∞–º–æ–µ –æ–±–ª–∞–∫–æ –æ–ø–∏—Å–∞–Ω–∏—è */
        .cloud {
            background: white;
            color: #333;
            padding: 15px;
            border-radius: 20px;
            width: 280px;
            margin: 20px 0;
            text-align: center;
            position: relative;
            font-weight: bold;
        }

        .cloud::after {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            border-bottom: 10px solid white;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
        }

        /* –ö–Ω–æ–ø–∫–∏ */
        .btn {
            background: #5d4037;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
        }

        /* –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ (–ø—Ä–æ—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫) */
        .shop-list {
            display: none;
            text-align: left;
            width: 300px;
            background: rgba(0,0,0,0.2);
            padding: 15px;
            border-radius: 15px;
        }

        .item { display: flex; justify-content: space-between; margin: 10px 0; }
    </style>
</head>
<body>

    <div class="nav-menu">
        <button class="nav-btn" onclick="changeRoom('living')">üî•<br>–£—é—Ç</button>
        <button class="nav-btn" onclick="changeRoom('kitchen')">üç≥<br>–ï–¥–∞</button>
        <button class="nav-btn" onclick="changeRoom('bedroom')">üí§<br>–°–æ–Ω</button>
        <button class="nav-btn" onclick="changeRoom('basement')">üì¶<br>–ü–æ–¥–≤–∞–ª</button>
        <button class="nav-btn" onclick="changeRoom('shop')">üí∞<br>–õ–∞–≤–∫–∞</button>
    </div>

    <div style="margin-bottom: 15px;">üßÄ –°—ã—Ä: <span id="balance">0</span></div>

    <div class="room-box">
        <div id="roomIcon">üî•</div>
        <div id="ratIcon">üêÄ</div>
    </div>

    <div class="cloud">
        <p id="roomDesc" style="margin:0;">–ì—Ä–µ–µ—Ç –ª–∞–ø–∫–∏ —É –æ–≥–Ω—è.</p>
    </div>

    <button id="actionBtn" class="btn" onclick="handleAction()">–ü–æ—Å–ª—É—à–∞—Ç—å —Å–æ–≤–µ—Ç</button>

    <div id="shop-items" class="shop-list">
        <div class="item"><span>üõãÔ∏è –î–∏–≤–∞–Ω (10üßÄ)</span><button onclick="buy('sofa', 10)">–ö—É–ø–∏—Ç—å</button></div>
        <div class="item"><span>üë®‚Äçüç≥ –ö–æ–ª–ø–∞–∫ (20üßÄ)</span><button onclick="buy('hat', 20)">–ö—É–ø–∏—Ç—å</button></div>
        <div class="item"><span>üìª –†–∞–¥–∏–æ (50üßÄ)</span><button onclick="buy('radio', 50)">–ö—É–ø–∏—Ç—å</button></div>
        </div>

    <script>
        let cheeseBalance = 0;
        let inventory = { sofa: false, hat: false, radio: false };
        let currentRoom = 'living';

        const rooms = {
            living: { name: "–î—è–¥—é—à–∫–∞ –ü–∏—Å–∫", icon: "üî•", rat: "üêÄ", desc: "–ì—Ä–µ–µ—Ç –ª–∞–ø–∫–∏ —É –æ–≥–Ω—è.", btn: "–ü–æ—Å–ª—É—à–∞—Ç—å —Å–æ–≤–µ—Ç" },
            kitchen: { name: "–®–µ—Ñ –†–µ–º–∏", icon: "üç≥", rat: "üêÄ", desc: "–ì–æ—Ç–æ–≤–∏—Ç –ª—É—á—à–∏–π —Å—ã—Ä!", btn: "–í–∑—è—Ç—å —Å—ã—Ä üßÄ" },
            bedroom: { name: "–ú–∞–ª—ã—à –°–æ–Ω—è", icon: "üí§", rat: "üêÄ", desc: "–°–ø–∏—Ç –∏ –≤–∏–¥–∏—Ç —Å—ã—Ä.", btn: "–ü–æ–ø—Ä–∞–≤–∏—Ç—å –æ–¥–µ—è–ª–æ" },
            basement: { name: "–í–∏–Ω—Ç–∏–∫", icon: "üì¶", rat: "üêÄ", desc: "–ú–∞—Å—Ç–µ—Ä–∏—Ç —á—Ç–æ-—Ç–æ –≤–∞–∂–Ω–æ–µ.", btn: "–ü–æ–º–æ—á—å" },
            shop: { name: "–¢–æ—Ä–≥–æ–≤–µ—Ü –•–≤–æ—Å—Ç", icon: "üí∞", rat: "üêπ", desc: "–õ—É—á—à–∏–µ —Ç–æ–≤–∞—Ä—ã –∑–∞ —Å—ã—Ä!", btn: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å" }
        };

        function changeRoom(id) {
            currentRoom = id;
            const r = rooms[id];
            const fire = document.getElementById('fireSound');
            
            document.getElementById('roomIcon').innerText = r.icon;
            document.getElementById('ratIcon').innerText = r.rat;
            document.getElementById('roomDesc').innerText = r.desc;
            document.getElementById('actionBtn').innerText = r.btn;

            // –õ–æ–≥–∏–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
            if (id === 'living' && inventory.sofa) {
                document.getElementById('roomIcon').innerHTML = "üî• üõãÔ∏è";
                document.getElementById('roomDesc').innerText = "–î—è–¥—é—à–∫–∞ –ü–∏—Å–∫ –≥—Ä–µ–µ—Ç—Å—è –Ω–∞ –¥–∏–≤–∞–Ω–µ.";
            }

            // –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –º–∞–≥–∞–∑–∏–Ω–∞
            if (id === 'living') fire.play().catch(()=>{}); else fire.pause();
            document.getElementById('shop-items').style.display = (id === 'shop') ? 'block' : 'none';
            document.getElementById('actionBtn').style.display = (id === 'shop') ? 'none' : 'block';
        }

        function handleAction() {
            if (currentRoom === 'kitchen') {
                cheeseBalance++;
                updateDisplay();
                alert("–¢—ã –ø–æ–ª—É—á–∏–ª 1 —Å—ã—Ä!");
            } else {
                alert(rooms[currentRoom].name + " –¥–æ–≤–æ–ª—å–Ω–æ –ø–æ–ø–∏—Å–∫–∏–≤–∞–µ—Ç.");
            }
        }

        function buy(item, price) {
            if (cheeseBalance >= price) {
                cheeseBalance -= price;
                inventory[item] = true;
                updateDisplay();
                alert("–ö—É–ø–ª–µ–Ω–æ!");
                changeRoom('living');
            } else {
                alert("–ú–∞–ª–æ —Å—ã—Ä–∞!");
            }
        }

        function updateDisplay() {
            document.getElementById('balance').innerText = cheeseBalance;
            localStorage.setItem('ratCheese', cheeseBalance);
        }

        window.onload = () => {
            if (localStorage.getItem('ratCheese')) cheeseBalance = parseInt(localStorage.getItem('ratCheese'));
            updateDisplay();
        };
    </script>

    <audio id="fireSound" loop><source src="fire.mp3" type="audio/mpeg"></audio>
</body>
</html>
